{"version":3,"sources":["components/common/PageTitle.js","util/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/InventoryItemForm.js","components/common/DangerButton.js","pages/Inventory.js"],"names":["PageTitle","title","className","formatCurrency","num","toString","replace","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","InventoryItemSchema","Yup","shape","name","required","itemNumber","unitPrice","InventoryItemForm","onSubmit","initialValues","values","resetForm","validationSchema","validateOnBlur","Label","text","FormInput","ariaLabel","type","placeholder","GradientButton","DangerButton","onClick","InventoryItemContainer","children","InventoryItem","item","onDelete","src","image","alt","NewInventoryItem","Inventory","fetchContext","useContext","FetchContext","useState","inventory","setInventory","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","a","authAxios","get","data","console","log","getInventory","post","inventoryItem","message","response","window","confirm","delete","_id","filter","deletedItem","FormSuccess","FormError","length","map","key"],"mappings":"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","file":"static/js/5.3f31a1e8.chunk.js","sourcesContent":["import React from 'react';\n\nconst PageTitle = ({ title }) => (\n  <div className=\"my-1 sm:my-4\">\n    <h2 className=\"text-gray-800 font-bold text-2xl\">\n      {title}\n    </h2>\n  </div>\n);\n\nexport default PageTitle;\n","export const formatCurrency = num => {\n  return `$${num\n    .toString()\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')}`;\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport Label from './../components/common/Label';\nimport FormInput from './../components/FormInput';\nimport GradientButton from './common/GradientButton';\n\nconst InventoryItemSchema = Yup.object().shape({\n  name: Yup.string().required('Name is required'),\n  itemNumber: Yup.string().required(\n    'Item number is required'\n  ),\n  unitPrice: Yup.string().required('Unit price is required')\n});\n\nconst InventoryItemForm = ({ onSubmit }) => {\n  return (\n    <Formik\n      initialValues={{\n        name: '',\n        itemNumber: '',\n        unitPrice: ''\n      }}\n      onSubmit={(values, { resetForm }) =>\n        onSubmit(values, resetForm)\n      }\n      validationSchema={InventoryItemSchema}\n      validateOnBlur={false}\n    >\n      {() => (\n        <Form>\n          <div className=\"flex flex-col md:flex-row\">\n            <div className=\"w-full md:w-1/3 mr-2 mb-2 sm:mb-0\">\n              <div className=\"mb-1\">\n                <Label text=\"Item Name\" />\n              </div>\n              <FormInput\n                ariaLabel=\"Name\"\n                name=\"name\"\n                type=\"text\"\n                placeholder=\"Item Name\"\n              />\n            </div>\n            <div className=\"w-full md:w-1/3 mr-2 mb-2 sm:mb-0\">\n              <div className=\"mb-1\">\n                <Label text=\"Item Number\" />\n              </div>\n              <FormInput\n                ariaLabel=\"Item Number\"\n                name=\"itemNumber\"\n                type=\"text\"\n                placeholder=\"Item Number\"\n              />\n            </div>\n            <div className=\"w-full md:w-1/3 mr-2 mb-2 sm:mb-0\">\n              <div className=\"mb-1\">\n                <Label text=\"Unit Price\" />\n              </div>\n              <FormInput\n                ariaLabel=\"Unit Price\"\n                name=\"unitPrice\"\n                type=\"number\"\n                placeholder=\"Unit Price\"\n              />\n            </div>\n          </div>\n          <div className=\"flex\">\n            <div className=\"w-full sm:w-1/4 mt-4\">\n              <GradientButton type=\"submit\" text=\"Submit\" />\n            </div>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default InventoryItemForm;\n","import React from 'react';\n\nconst DangerButton = ({ text, onClick }) => (\n  <button\n    onClick={onClick}\n    className=\"text-red-600 text-sm rounded border border-red-600 px-2 hover:text-white hover:bg-red-600\"\n  >\n    {text}\n  </button>\n);\n\nexport default DangerButton;\n","import React, {\n  useContext,\n  useEffect,\n  useState\n} from 'react';\nimport PageTitle from '../components/common/PageTitle';\nimport { FetchContext } from '../context/FetchContext';\nimport { formatCurrency } from './../util';\nimport InventoryItemForm from './../components/InventoryItemForm';\nimport DangerButton from './../components/common/DangerButton';\nimport FormError from './../components/FormError';\nimport FormSuccess from './../components/FormSuccess';\n\nconst InventoryItemContainer = ({ children }) => (\n  <div className=\"bg-white rounded shadow-md mb-4 p-4\">\n    {children}\n  </div>\n);\n\nconst InventoryItem = ({ item, onDelete }) => {\n  return (\n    <div className=\"flex\">\n      <img\n        className=\"rounded w-32 h-full\"\n        src={item.image}\n        alt=\"inventory\"\n      />\n      <div className=\"flex justify-between w-full\">\n        <div className=\"flex flex-col ml-4 justify-between\">\n          <div>\n            <p className=\"font-bold text-xl text-gray-900\">\n              {item.name}\n            </p>\n            <p className=\"text-sm text-gray-600\">\n              {item.itemNumber}\n            </p>\n          </div>\n          <div>\n            <p className=\"text-gray-700 text-xl\">\n              {formatCurrency(item.unitPrice)}\n            </p>\n          </div>\n        </div>\n        <div className=\"self-end\">\n          <DangerButton\n            text=\"Delete\"\n            onClick={() => onDelete(item)}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst NewInventoryItem = ({ onSubmit }) => {\n  return (\n    <section className=\"bg-white p-4 shadow-md rounded-md\">\n      <p className=\"font-bold mb-2\">New Inventory Item</p>\n      <InventoryItemForm onSubmit={onSubmit} />\n    </section>\n  );\n};\n\nconst Inventory = () => {\n  const fetchContext = useContext(FetchContext);\n  const [inventory, setInventory] = useState([]);\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n\n  useEffect(() => {\n    const getInventory = async () => {\n      try {\n        const { data } = await fetchContext.authAxios.get(\n          'inventory'\n        );\n        setInventory(data);\n      } catch (err) {\n        console.log('the err', err);\n      }\n    };\n\n    getInventory();\n  }, [fetchContext]);\n\n  const onSubmit = async (values, resetForm) => {\n    try {\n      const { data } = await fetchContext.authAxios.post(\n        'inventory',\n        values\n      );\n      setInventory([...inventory, data.inventoryItem]);\n      resetForm();\n      setSuccessMessage(data.message);\n      setErrorMessage(null);\n    } catch (err) {\n      const { data } = err.response;\n      setSuccessMessage(null);\n      setErrorMessage(data.message);\n    }\n  };\n\n  const onDelete = async item => {\n    try {\n      if (\n        window.confirm(\n          'Are you sure you want to delete this item?'\n        )\n      ) {\n        const {\n          data\n        } = await fetchContext.authAxios.delete(\n          `inventory/${item._id}`\n        );\n        setInventory(\n          inventory.filter(\n            item => item._id !== data.deletedItem._id\n          )\n        );\n      }\n    } catch (err) {\n      const { data } = err.response;\n      setErrorMessage(data.message);\n    }\n  };\n\n  return (\n    <>\n      <PageTitle title=\"Inventory\" />\n      {successMessage && (\n        <FormSuccess text={successMessage} />\n      )}\n      {errorMessage && <FormError text={errorMessage} />}\n      <div className=\"mb-4\">\n        <NewInventoryItem onSubmit={onSubmit} />\n      </div>\n      {inventory && inventory.length\n        ? inventory.map(item => (\n            <InventoryItemContainer key={item._id}>\n              <InventoryItem\n                item={item}\n                onDelete={onDelete}\n              />\n            </InventoryItemContainer>\n          ))\n        : 'No Inventory Items'}\n    </>\n  );\n};\n\nexport default Inventory;\n"],"sourceRoot":""}